{"ast":null,"code":"var _jsxFileName = \"/Users/VarshaNarasiman/quake-proof/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useRef, Suspense } from 'react';\nimport { Canvas, useFrame } from '@react-three/fiber';\nimport { Physics, RigidBody, CuboidCollider } from '@react-three/rapier';\nimport { OrbitControls, Environment, Sky, Grid, useTexture } from '@react-three/drei';\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\n\n// --- CONFIGURATION ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = process.env.REACT_APP_GEMINI_API_KEY;\nconst genAI = new GoogleGenerativeAI(API_KEY);\n\n// THE PHYSICS LIBRARY (Your original specs)\nconst PHYSICS_PROPS = {\n  bookshelf: {\n    size: [1.2, 4, 0.6],\n    mass: 25,\n    color: '#5d4037',\n    hazardMsg: \"Tipping Risk: High. Anchor to wall studs.\"\n  },\n  refrigerator: {\n    size: [1.6, 3, 1.6],\n    mass: 150,\n    color: '#bdc3c7',\n    hazardMsg: \"Crush Hazard: High. Ensure door latches are secure.\"\n  },\n  chair: {\n    size: [0.8, 1, 0.8],\n    mass: 8,\n    color: '#2c3e50',\n    hazardMsg: \"Sliding Hazard: Low. Use rubber floor grips.\"\n  },\n  table: {\n    size: [3, 1, 2],\n    mass: 45,\n    color: '#8B4513',\n    hazardMsg: \"Stable base. Safe to duck under if reinforced.\"\n  },\n  lamp: {\n    size: [0.4, 3.5, 0.4],\n    mass: 5,\n    color: '#f1c40f',\n    hazardMsg: \"Falling Hazard: High. Secure base or move away from beds.\"\n  },\n  tv: {\n    size: [2.5, 1.5, 0.2],\n    mass: 12,\n    color: '#222',\n    hazardMsg: \"Impact Hazard: Use mounting brackets or safety straps.\"\n  },\n  plant: {\n    size: [0.7, 1.5, 0.7],\n    mass: 10,\n    color: '#27ae60',\n    hazardMsg: \"Spillage/Fall Hazard: Use heavy ceramic pots.\"\n  }\n};\n\n// Background Reference Plane (Showing the first frame of your video)\nfunction PhotoPlane({\n  url\n}) {\n  _s();\n  const texture = useTexture(url);\n  return /*#__PURE__*/_jsxDEV(\"mesh\", {\n    position: [0, 8, -15],\n    scale: [40, 20, 1],\n    children: [/*#__PURE__*/_jsxDEV(\"planeGeometry\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"meshBasicMaterial\", {\n      map: texture,\n      transparent: true,\n      opacity: 0.3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n\n// Seismic Floor Component\n_s(PhotoPlane, \"q8rsCTPf13E3QkRL8SXytI6B+wA=\", false, function () {\n  return [useTexture];\n});\n_c = PhotoPlane;\nfunction Room({\n  magnitude\n}) {\n  _s2();\n  const rigidBody = useRef();\n  useFrame(({\n    clock\n  }) => {\n    if (rigidBody.current && magnitude > 0) {\n      const t = clock.getElapsedTime();\n      const intensity = Math.pow(magnitude / 9, 3);\n      const freq = 12 + magnitude * 2;\n      const amp = intensity * 0.2; // Seismic amplitude\n      rigidBody.current.setNextKinematicTranslation({\n        x: Math.sin(t * freq) * amp,\n        y: 0,\n        z: Math.cos(t * freq * 1.1) * amp\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(RigidBody, {\n    ref: rigidBody,\n    type: \"kinematicPosition\",\n    colliders: false,\n    children: [/*#__PURE__*/_jsxDEV(CuboidCollider, {\n      args: [25, 0.1, 25],\n      friction: 4.0,\n      restitution: 0\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      infiniteGrid: true,\n      fadeDistance: 50,\n      sectionColor: \"#333\",\n      cellColor: \"#111\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s2(Room, \"YenjeHI7XKvxniwycuW47GT4V+8=\", false, function () {\n  return [useFrame];\n});\n_c2 = Room;\nexport default function App() {\n  _s3();\n  const [magnitude, setMagnitude] = useState(0);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [detectedObjects, setDetectedObjects] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [status, setStatus] = useState(\"Awaiting room walkthrough video...\");\n\n  // Extract frames and send to Gemini for 3D mapping\n  const analyzeVideo = async file => {\n    setLoading(true);\n    setStatus(\"Slicing video into keyframes...\");\n    try {\n      const videoUrl = URL.createObjectURL(file);\n      const video = document.createElement('video');\n      video.src = videoUrl;\n      video.muted = true;\n\n      // Wait for metadata to load so we know the duration\n      await new Promise(r => video.onloadedmetadata = r);\n      await video.play();\n      const frames = [];\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n\n      // Capture 4 frames evenly across the video duration\n      const captureTimes = [0.1, video.duration * 0.4, video.duration * 0.7, video.duration - 0.2];\n      for (const time of captureTimes) {\n        video.currentTime = time;\n        await new Promise(r => video.onseeked = r);\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        ctx.drawImage(video, 0, 0);\n        // Lower quality to 0.5 to keep the payload small and fast\n        const base64 = canvas.toDataURL('image/jpeg', 0.5).split(',')[1];\n        frames.push({\n          inlineData: {\n            data: base64,\n            mimeType: \"image/jpeg\"\n          }\n        });\n        if (time === 0.1) setPreviewImage(canvas.toDataURL('image/jpeg'));\n      }\n      setStatus(\"Gemini is calculating 3D coordinates...\");\n      const model = genAI.getGenerativeModel({\n        model: \"gemini-2.5-flash\"\n      });\n      const prompt = `Return ONLY a raw JSON array of objects found in these frames.\n      Objects allowed: bookshelf, refrigerator, chair, table, lamp, tv, plant.\n      Format: [{\"type\": \"table\", \"x\": 2, \"z\": -5}]\n      Rules: Camera is (0,0,0). X is horizontal (-10 to 10), Z is depth (-15 to 0).\n      No explanation, no markdown, just the array.`;\n      const result = await model.generateContent([prompt, ...frames]);\n      const text = result.response.text();\n\n      // STRENGTHENED PARSING: This removes any backticks or extra text\n      const jsonMatch = text.match(/\\[.*\\]/s);\n      if (jsonMatch) {\n        const parsed = JSON.parse(jsonMatch[0]);\n        setDetectedObjects(parsed);\n        setStatus(`Reconstruction Success: Found ${parsed.length} objects.`);\n      } else {\n        throw new Error(\"AI returned invalid format\");\n      }\n    } catch (error) {\n      console.error(\"Reconstruction Error:\", error);\n      setStatus(\"Failed. Try a slower video or check API key.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleUpload = e => {\n    const file = e.target.files[0];\n    if (file) analyzeVideo(file);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100vw',\n      height: '100vh',\n      background: '#000',\n      overflow: 'hidden',\n      fontFamily: 'monospace'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        zIndex: 10,\n        padding: '25px',\n        color: 'white',\n        background: 'rgba(0,0,0,0.9)',\n        width: '380px',\n        height: '100vh',\n        borderRight: '1px solid #333',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: '#00ffcc',\n          letterSpacing: '2px',\n          fontSize: '24px',\n          margin: 0\n        },\n        children: \"QUAKEPROOF AI\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#888',\n          fontSize: '11px',\n          marginBottom: '20px'\n        },\n        children: \"v2.5 // SPATIAL VIDEO RECONSTRUCTION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '15px',\n          border: '1px dashed #444',\n          borderRadius: '8px',\n          background: '#0a0a0a'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: '#888',\n            display: 'block',\n            fontSize: '10px',\n            marginBottom: '8px'\n          },\n          children: \"UPLOAD WALKTHROUGH\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"video/*\",\n          onChange: handleUpload,\n          style: {\n            width: '100%',\n            color: '#888'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '11px',\n            color: loading ? '#ffcc00' : '#00ffcc',\n            marginTop: '12px'\n          },\n          children: status\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), detectedObjects.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#111',\n            padding: '15px',\n            borderRadius: '10px',\n            marginBottom: '20px',\n            border: '1px solid #222'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '10px',\n              fontSize: '12px'\n            },\n            children: [\"SEISMIC MAGNITUDE: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#00ffcc'\n              },\n              children: [magnitude, \"Mw\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"0\",\n            max: \"9\",\n            step: \"0.1\",\n            style: {\n              width: '100%',\n              accentColor: '#00ffcc',\n              cursor: 'pointer'\n            },\n            value: magnitude,\n            onChange: e => setMagnitude(parseFloat(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMagnitude(0),\n            style: {\n              marginTop: '10px',\n              width: '100%',\n              padding: '8px',\n              background: '#333',\n              color: '#fff',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"RESET SIMULATION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            fontSize: '12px',\n            color: '#ff4444',\n            textTransform: 'uppercase',\n            marginBottom: '10px'\n          },\n          children: \"Hazard Analysis:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflowY: 'auto',\n            flex: 1,\n            paddingRight: '10px'\n          },\n          children: detectedObjects.map((obj, i) => {\n            var _PHYSICS_PROPS$obj$ty;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '11px',\n                background: '#181818',\n                padding: '12px',\n                marginBottom: '10px',\n                borderRadius: '6px',\n                borderLeft: '4px solid #00ffcc'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  marginBottom: '5px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                  style: {\n                    textTransform: 'uppercase',\n                    color: '#fff'\n                  },\n                  children: obj.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#555'\n                  },\n                  children: [\"[x:\", obj.x, \", z:\", obj.z, \"]\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: '#aaa'\n                },\n                children: (_PHYSICS_PROPS$obj$ty = PHYSICS_PROPS[obj.type]) === null || _PHYSICS_PROPS$obj$ty === void 0 ? void 0 : _PHYSICS_PROPS$obj$ty.hazardMsg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n      shadows: true,\n      camera: {\n        position: [12, 12, 12],\n        fov: 40\n      },\n      children: [/*#__PURE__*/_jsxDEV(Sky, {\n        sunPosition: [100, 20, 100]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ambientLight\", {\n        intensity: 0.4\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pointLight\", {\n        position: [15, 15, 15],\n        castShadow: true,\n        intensity: 1.2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: null,\n        children: [previewImage && /*#__PURE__*/_jsxDEV(PhotoPlane, {\n          url: previewImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(Physics, {\n          gravity: [0, -9.81, 0],\n          children: [/*#__PURE__*/_jsxDEV(Room, {\n            magnitude: magnitude\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), detectedObjects.map((obj, i) => {\n            const data = PHYSICS_PROPS[obj.type] || PHYSICS_PROPS.chair;\n            return /*#__PURE__*/_jsxDEV(RigidBody, {\n              position: [obj.x, data.size[1] / 2 + 2, obj.z],\n              colliders: \"cuboid\",\n              mass: data.mass,\n              linearDamping: 0.5,\n              angularDamping: 0.5,\n              children: /*#__PURE__*/_jsxDEV(\"mesh\", {\n                castShadow: true,\n                children: [/*#__PURE__*/_jsxDEV(\"boxGeometry\", {\n                  args: data.size\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"meshStandardMaterial\", {\n                  color: data.color,\n                  metalness: 0.6,\n                  roughness: 0.2\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 19\n              }, this)\n            }, `${obj.type}-${i}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n        makeDefault: true,\n        maxPolarAngle: Math.PI / 2.1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Environment, {\n        preset: \"city\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n}\n_s3(App, \"Nl0QtQdB1lHxFYhaeBPEr9uzi8g=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"PhotoPlane\");\n$RefreshReg$(_c2, \"Room\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useRef","Suspense","Canvas","useFrame","Physics","RigidBody","CuboidCollider","OrbitControls","Environment","Sky","Grid","useTexture","GoogleGenerativeAI","jsxDEV","_jsxDEV","API_KEY","process","env","REACT_APP_GEMINI_API_KEY","genAI","PHYSICS_PROPS","bookshelf","size","mass","color","hazardMsg","refrigerator","chair","table","lamp","tv","plant","PhotoPlane","url","_s","texture","position","scale","children","fileName","_jsxFileName","lineNumber","columnNumber","map","transparent","opacity","_c","Room","magnitude","_s2","rigidBody","clock","current","t","getElapsedTime","intensity","Math","pow","freq","amp","setNextKinematicTranslation","x","sin","y","z","cos","ref","type","colliders","args","friction","restitution","infiniteGrid","fadeDistance","sectionColor","cellColor","_c2","App","_s3","setMagnitude","previewImage","setPreviewImage","detectedObjects","setDetectedObjects","loading","setLoading","status","setStatus","analyzeVideo","file","videoUrl","URL","createObjectURL","video","document","createElement","src","muted","Promise","r","onloadedmetadata","play","frames","canvas","ctx","getContext","captureTimes","duration","time","currentTime","onseeked","width","videoWidth","height","videoHeight","drawImage","base64","toDataURL","split","push","inlineData","data","mimeType","model","getGenerativeModel","prompt","result","generateContent","text","response","jsonMatch","match","parsed","JSON","parse","length","Error","error","console","handleUpload","e","target","files","style","background","overflow","fontFamily","zIndex","padding","borderRight","display","flexDirection","letterSpacing","fontSize","margin","marginBottom","border","borderRadius","accept","onChange","marginTop","flex","min","max","step","accentColor","cursor","value","parseFloat","onClick","textTransform","overflowY","paddingRight","obj","i","_PHYSICS_PROPS$obj$ty","borderLeft","justifyContent","shadows","camera","fov","sunPosition","castShadow","fallback","gravity","linearDamping","angularDamping","metalness","roughness","makeDefault","maxPolarAngle","PI","preset","_c3","$RefreshReg$"],"sources":["/Users/VarshaNarasiman/quake-proof/src/App.js"],"sourcesContent":["import React, { useState, useRef, Suspense } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { Physics, RigidBody, CuboidCollider } from '@react-three/rapier'\nimport { OrbitControls, Environment, Sky, Grid, useTexture } from '@react-three/drei'\nimport { GoogleGenerativeAI } from \"@google/generative-ai\"\n\n// --- CONFIGURATION ---\nconst API_KEY = process.env.REACT_APP_GEMINI_API_KEY;\nconst genAI = new GoogleGenerativeAI(API_KEY)\n\n// THE PHYSICS LIBRARY (Your original specs)\nconst PHYSICS_PROPS = {\n  bookshelf: { size: [1.2, 4, 0.6], mass: 25, color: '#5d4037', hazardMsg: \"Tipping Risk: High. Anchor to wall studs.\" },\n  refrigerator: { size: [1.6, 3, 1.6], mass: 150, color: '#bdc3c7', hazardMsg: \"Crush Hazard: High. Ensure door latches are secure.\" },\n  chair: { size: [0.8, 1, 0.8], mass: 8, color: '#2c3e50', hazardMsg: \"Sliding Hazard: Low. Use rubber floor grips.\" },\n  table: { size: [3, 1, 2], mass: 45, color: '#8B4513', hazardMsg: \"Stable base. Safe to duck under if reinforced.\" },\n  lamp: { size: [0.4, 3.5, 0.4], mass: 5, color: '#f1c40f', hazardMsg: \"Falling Hazard: High. Secure base or move away from beds.\" },\n  tv: { size: [2.5, 1.5, 0.2], mass: 12, color: '#222', hazardMsg: \"Impact Hazard: Use mounting brackets or safety straps.\" },\n  plant: { size: [0.7, 1.5, 0.7], mass: 10, color: '#27ae60', hazardMsg: \"Spillage/Fall Hazard: Use heavy ceramic pots.\" }\n}\n\n// Background Reference Plane (Showing the first frame of your video)\nfunction PhotoPlane({ url }) {\n  const texture = useTexture(url)\n  return (\n    <mesh position={[0, 8, -15]} scale={[40, 20, 1]}>\n      <planeGeometry />\n      <meshBasicMaterial map={texture} transparent opacity={0.3} />\n    </mesh>\n  )\n}\n\n// Seismic Floor Component\nfunction Room({ magnitude }) {\n  const rigidBody = useRef()\n  useFrame(({ clock }) => {\n    if (rigidBody.current && magnitude > 0) {\n      const t = clock.getElapsedTime()\n      const intensity = Math.pow(magnitude / 9, 3)\n      const freq = 12 + magnitude * 2\n      const amp = intensity * 0.2 // Seismic amplitude\n      rigidBody.current.setNextKinematicTranslation({ \n        x: Math.sin(t * freq) * amp, \n        y: 0, \n        z: Math.cos(t * freq * 1.1) * amp \n      })\n    }\n  })\n  return (\n    <RigidBody ref={rigidBody} type=\"kinematicPosition\" colliders={false}>\n      <CuboidCollider args={[25, 0.1, 25]} friction={4.0} restitution={0} />\n      <Grid infiniteGrid fadeDistance={50} sectionColor=\"#333\" cellColor=\"#111\" />\n    </RigidBody>\n  )\n}\n\nexport default function App() {\n  const [magnitude, setMagnitude] = useState(0)\n  const [previewImage, setPreviewImage] = useState(null)\n  const [detectedObjects, setDetectedObjects] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [status, setStatus] = useState(\"Awaiting room walkthrough video...\")\n\n  // Extract frames and send to Gemini for 3D mapping\n  const analyzeVideo = async (file) => {\n    setLoading(true)\n    setStatus(\"Slicing video into keyframes...\")\n    \n    try {\n      const videoUrl = URL.createObjectURL(file)\n      const video = document.createElement('video')\n      video.src = videoUrl\n      video.muted = true\n      \n      // Wait for metadata to load so we know the duration\n      await new Promise((r) => (video.onloadedmetadata = r))\n      await video.play()\n      \n      const frames = []\n      const canvas = document.createElement('canvas')\n      const ctx = canvas.getContext('2d')\n      \n      // Capture 4 frames evenly across the video duration\n      const captureTimes = [0.1, video.duration * 0.4, video.duration * 0.7, video.duration - 0.2]\n      \n      for (const time of captureTimes) {\n        video.currentTime = time\n        await new Promise(r => video.onseeked = r)\n        canvas.width = video.videoWidth\n        canvas.height = video.videoHeight\n        ctx.drawImage(video, 0, 0)\n        // Lower quality to 0.5 to keep the payload small and fast\n        const base64 = canvas.toDataURL('image/jpeg', 0.5).split(',')[1]\n        frames.push({ inlineData: { data: base64, mimeType: \"image/jpeg\" } })\n        if (time === 0.1) setPreviewImage(canvas.toDataURL('image/jpeg'))\n      }\n\n      setStatus(\"Gemini is calculating 3D coordinates...\")\n      const model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" })\n      \n      const prompt = `Return ONLY a raw JSON array of objects found in these frames.\n      Objects allowed: bookshelf, refrigerator, chair, table, lamp, tv, plant.\n      Format: [{\"type\": \"table\", \"x\": 2, \"z\": -5}]\n      Rules: Camera is (0,0,0). X is horizontal (-10 to 10), Z is depth (-15 to 0).\n      No explanation, no markdown, just the array.`\n\n      const result = await model.generateContent([prompt, ...frames])\n      const text = result.response.text()\n\n      // STRENGTHENED PARSING: This removes any backticks or extra text\n      const jsonMatch = text.match(/\\[.*\\]/s)\n      if (jsonMatch) {\n        const parsed = JSON.parse(jsonMatch[0])\n        setDetectedObjects(parsed)\n        setStatus(`Reconstruction Success: Found ${parsed.length} objects.`)\n      } else {\n        throw new Error(\"AI returned invalid format\")\n      }\n\n    } catch (error) {\n      console.error(\"Reconstruction Error:\", error)\n      setStatus(\"Failed. Try a slower video or check API key.\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleUpload = (e) => {\n    const file = e.target.files[0]\n    if (file) analyzeVideo(file)\n  }\n\n  return (\n    <div style={{ width: '100vw', height: '100vh', background: '#000', overflow: 'hidden', fontFamily: 'monospace' }}>\n      \n      {/* SIDEBAR UI */}\n      <div style={{ \n        position: 'absolute', zIndex: 10, padding: '25px', color: 'white', \n        background: 'rgba(0,0,0,0.9)', width: '380px', height: '100vh', \n        borderRight: '1px solid #333', display: 'flex', flexDirection: 'column' \n      }}>\n        <h1 style={{ color: '#00ffcc', letterSpacing: '2px', fontSize: '24px', margin: 0 }}>QUAKEPROOF AI</h1>\n        <p style={{ color: '#888', fontSize: '11px', marginBottom: '20px' }}>v2.5 // SPATIAL VIDEO RECONSTRUCTION</p>\n        \n        <div style={{ padding: '15px', border: '1px dashed #444', borderRadius: '8px', background: '#0a0a0a' }}>\n          <label style={{color: '#888', display: 'block', fontSize: '10px', marginBottom: '8px'}}>UPLOAD WALKTHROUGH</label>\n          <input type=\"file\" accept=\"video/*\" onChange={handleUpload} style={{ width: '100%', color: '#888' }} />\n          <p style={{ fontSize: '11px', color: loading ? '#ffcc00' : '#00ffcc', marginTop: '12px' }}>{status}</p>\n        </div>\n        \n        {detectedObjects.length > 0 && (\n          <div style={{ flex: 1, display: 'flex', flexDirection: 'column', marginTop: '20px' }}>\n            <div style={{ background: '#111', padding: '15px', borderRadius: '10px', marginBottom: '20px', border: '1px solid #222' }}>\n              <label style={{ display: 'block', marginBottom: '10px', fontSize: '12px' }}>\n                SEISMIC MAGNITUDE: <span style={{ color: '#00ffcc' }}>{magnitude}Mw</span>\n              </label>\n              <input \n                type=\"range\" min=\"0\" max=\"9\" step=\"0.1\" \n                style={{ width: '100%', accentColor: '#00ffcc', cursor: 'pointer' }} \n                value={magnitude} \n                onChange={(e) => setMagnitude(parseFloat(e.target.value))} \n              />\n              <button \n                onClick={() => setMagnitude(0)} \n                style={{ marginTop: '10px', width: '100%', padding: '8px', background: '#333', color: '#fff', border: 'none', borderRadius: '4px', cursor: 'pointer' }}\n              >\n                RESET SIMULATION\n              </button>\n            </div>\n\n            <h3 style={{ fontSize: '12px', color: '#ff4444', textTransform: 'uppercase', marginBottom: '10px' }}>Hazard Analysis:</h3>\n            <div style={{ overflowY: 'auto', flex: 1, paddingRight: '10px' }}>\n              {detectedObjects.map((obj, i) => (\n                <div key={i} style={{ fontSize: '11px', background: '#181818', padding: '12px', marginBottom: '10px', borderRadius: '6px', borderLeft: '4px solid #00ffcc' }}>\n                  <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '5px' }}>\n                    <b style={{ textTransform: 'uppercase', color: '#fff' }}>{obj.type}</b>\n                    <span style={{ color: '#555' }}>[x:{obj.x}, z:{obj.z}]</span>\n                  </div>\n                  <span style={{ color: '#aaa' }}>{PHYSICS_PROPS[obj.type]?.hazardMsg}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* THREE.JS VIEWPORT */}\n      <Canvas shadows camera={{ position: [12, 12, 12], fov: 40 }}>\n        <Sky sunPosition={[100, 20, 100]} />\n        <ambientLight intensity={0.4} />\n        <pointLight position={[15, 15, 15]} castShadow intensity={1.2} />\n\n        <Suspense fallback={null}>\n          {previewImage && <PhotoPlane url={previewImage} />}\n          \n          <Physics gravity={[0, -9.81, 0]}>\n            <Room magnitude={magnitude} />\n            \n            {detectedObjects.map((obj, i) => {\n              const data = PHYSICS_PROPS[obj.type] || PHYSICS_PROPS.chair\n              return (\n                <RigidBody \n                  key={`${obj.type}-${i}`} \n                  position={[obj.x, data.size[1]/2 + 2, obj.z]} \n                  colliders=\"cuboid\" \n                  mass={data.mass}\n                  linearDamping={0.5}\n                  angularDamping={0.5}\n                >\n                  <mesh castShadow>\n                    <boxGeometry args={data.size} />\n                    <meshStandardMaterial color={data.color} metalness={0.6} roughness={0.2} />\n                  </mesh>\n                </RigidBody>\n              )\n            })}\n          </Physics>\n        </Suspense>\n\n        <OrbitControls makeDefault maxPolarAngle={Math.PI / 2.1} />\n        <Environment preset=\"city\" />\n      </Canvas>\n    </div>\n  )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}